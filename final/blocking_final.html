<!DOCTYPE html>
<html lang="en" dir="ltr">
<style media="screen">
  .dropdown-content-li:hover,button:hover{cursor:pointer}body{margin:0}header{width:100%;height:75px;background-color:#323b40}h2{color:#4bbbeb;font-size:30px}h4{margin:10px 0}input{width:200px}li{list-style-type:none}button{display:block;width:75px;height:25px;border-radius:5px}.logo{padding-top:5px;padding-left:25px}.auth_container{padding-top:10px;padding-left:35px;padding-bottom:35px;background-color:#e3e3e3;border-top:1px solid #d2d2d2;border-bottom:1px solid #d2d2d2}.auth_inner_container{margin-left:20px}#h2-auth{margin:0}#connect_button{margin-top:20px}.application_container{margin-top:50px;padding-left:40px}.application_input{margin-left:10px}#clear_all_button,#submit_button,.category_title,.clear_all_title,.domain_container{margin-left:40px}.autocomplete-result-list{background:#00f;width:100%}.category_container,.clear_all_container{background:#e3e3e3;border-top:1px solid #d2d2d2}#application_find_button{margin-left:10px;margin-top:20px;margin-bottom:15px}#application_id{margin-left:15px}.category_container{margin-top:40px;padding-top:1px;border-bottom:1px solid #d2d2d2}.category_box_container{padding:30px;margin-top:20px;margin-bottom:15px;display:flex;justify-content:space-around}.category_box{width:220px}.button_container_outer{display:flex;align-items:center;justify-content:center;width:150px}.button_top_container{width:100px}#submit_button,.domain_container{margin-top:50px}.clear_all_container{margin-top:40px;padding-bottom:40px}#clear_all_button{margin-top:40px}.footer{width:100%;height:120px;background-color:#323b40}#loader_success_container_1{margin-top:10px}#loader_success_container_2,#loader_success_container_3{margin-top:10px;margin-left:40px}.success_note{color:green;padding-top:5px}.dropdown_selected,.loader{color:#4bbbeb}.loader,.loader:after,.loader:before{border-radius:50%;width:2.5em;height:2.5em;-webkit-animation:load7 1.8s infinite ease-in-out;animation:load7 1.8s infinite ease-in-out}.loader{font-size:5px;margin-left:20px;position:relative;-webkit-transform:translateZ(0);-ms-transform:translateZ(0);transform:translateZ(0);-webkit-animation-delay:-.16s;animation-delay:-.16s}.loader:after,.loader:before{content:'';position:absolute;top:0}.loader:before{left:-3.5em;-webkit-animation-delay:-.32s;animation-delay:-.32s}.loader:after{left:3.5em}@-webkit-keyframes load7{0%,100%,80%{box-shadow:0 2.5em 0 -1.3em}40%{box-shadow:0 2.5em 0 0}}@keyframes load7{0%,100%,80%{box-shadow:0 2.5em 0 -1.3em}40%{box-shadow:0 2.5em 0 0}}.dropdown{position:relative;display:inline-block}.dropdown-content{display:none;position:absolute;background-color:#f9f9f9;min-width:160px;box-shadow:0 8px 16px 0 rgba(0,0,0,.2);padding:30px 16px;margin-left:10px;z-index:1;max-height:120px;overflow-y:scroll}.dropdown-content-li{max-width:160px;max-height:40px;overflow:hidden;text-overflow:ellipsis}.dropdown_display{display:block}
</style>
  <head>
    <meta charset="utf-8">
    <title>Blocking Tool</title>
  </head>
  <body id="body">
    <header>
      <img class="logo" src="https://www.smaato.com/wp-content/themes/smaato/images/smaato-logo.png" alt="">
    </header>

    <div class="auth_container">
      <h2 for="">Authentication</h2>
      <div class="auth_inner_container">
        <h4>Client Id</h4>
        <input id="client_id" type="text" value="" placeholder="Client Id">
        <h4>Client Secret</h4>
        <input id="client_secret" type="text" value="" placeholder="Client Secret">
        <button id="connect_button" type="button" name="button">Connect</button>

        <div id="loader_success_container_1"></div>

      </div>
    </div>

    <div class="application_container">
      <h2 id="h2_auth">Application</h2>
      <div class="dropdown">
        <input id="application_name" class="application_input" type="text" name="" value="" placeholder="Application Name">
        <div class="dropdown-content">
        </div>
      </div>

      <select id="application_os" name="">
        <option value="IOS">iOS</option>
        <option value="ANDROID">Android</option>
      </select>
      <button id="application_find_button" type="button" name="button">Find Id</button>
      <label id="application_id" for=""></label>
    </div>


    <div class="category_container">
      <h2 class="category_title">Category Block</h2>
      <div class="category_box_container">
        <select id="category_box_left" class="category_box" size="10">
        </select>
        <div class="button_container_outer">
          <div class="button_top_container">
            <button id="add_category_button" type="button" name="button"> -> </button>
            <button id="subtract_category_button" type="button" name="button"> <- </button>
            <button id="reset_category_button">reset</button>
          </div>
        </div>
        <select id="category_box_right" class="category_box" size="10">
        </select>
      </div>
    </div>

    <div class="domain_container">
      <h2>Domain List</h2>
      <textarea id="domain_box" name="name" rows="8" cols="50" placeholder="Insert domain list separated by new line."></textarea>
    </div>

    <button id="submit_button">submit</button>
    <div id="loader_success_container_2"></div>

    <div class="clear_all_container">
      <h2 class="clear_all_title">Reset All Blocks</h2>
      <button id="clear_all_button">Clear All</button>
      <div id="loader_success_container_3"></div>
    </div>

    <div class="footer"></div>

  </body>
  <script type="text/javascript">
    var ACCESS_TOKEN="",SPX_DATA={applications:[],adspaces:[],lineitems:[]},AUTOCOMPLETE_SETTING={names:[],index:-1},PARENT_CATEGORIES=["Arts & Entertainment (IAB1)","Automotive (IAB2)","Business (IAB3)","Careers (IAB4)","Education (IAB5)","Family & Parenting (IAB6)","Health & Fitness (IAB7)","Food & Drink (IAB8)","Hobbies & Interests (IAB9)","Home & Garden (IAB10)","Law Gov't & Politics (IAB11)","News (IAB12)","Personal Finance (IAB13)","Society (IAB14)","Science (IAB15)","Pets (IAB16)","Sports (IAB17)","Style & Fashion (IAB18)","Technology & Computing (IAB19)","Travel (IAB20)","Real Estate (IAB21)","Shopping (IAB22)"],CATEGORY_STATE={"Arts & Entertainment (IAB1)":{left_box:!0,sub_categories:{"- Books & Literature (IAB1-1)":!0,"- Celebrity Fan/Gossip (IAB1-2)":!0,"- Fine Art (IAB1-3)":!0,"- Humor (IAB1-4)":!0,"- Movies (IAB1-5)":!0,"- Music (IAB1-6)":!0,"- Television (IAB1-7)":!0}},"Automotive (IAB2)":{left_box:!0,sub_categories:{"- Auto Parts (IAB2-1)":!0,"- Auto Repair (IAB2-2)":!0,"- Buying/Selling Cars (IAB2-3)":!0,"- Car Culture (IAB2-4)":!0,"- Certified Pre-Owned (IAB2-5)":!0,"- Convertible (IAB2-6)":!0,"- Coupe (IAB2-7)":!0,"- Crossover (IAB2-8)":!0,"- Diesel (IAB2-9)":!0,"- Electric Vehicle (IAB2-10)":!0,"- Hatchback (IAB2-11)":!0,"- Hybrid (IAB2-12)":!0,"- Luxury (IAB2-13)":!0,"- MiniVan (IAB2-14)":!0,"- Motorcycles (IAB2-15)":!0,"- Off-Road Vehicles (IAB2-16)":!0,"- Performance Vehicles (IAB2-17)":!0,"- Pickup (IAB2-18)":!0,"- Road-Side Assistance (IAB2-19)":!0,"- Sedan (IAB2-20)":!0,"- Trucks & Accessories (IAB2-21)":!0,"- Vintage Cars (IAB2-22)":!0,"- Wagon (IAB2-23)":!0}},"Business (IAB3)":{left_box:!0,sub_categories:{"- Advertising (IAB3-1)":!0,"- Agriculture (IAB3-2)":!0,"- Biotech/Biomedical (IAB3-3)":!0,"- Business Software (IAB3-4)":!0,"- Construction (IAB3-5)":!0,"- Forestry (IAB3-6)":!0,"- Government (IAB3-7)":!0,"- Green Solutions (IAB3-8)":!0,"- Human Resources (IAB3-9)":!0,"- Logistics (IAB3-10)":!0,"- Marketing (IAB3-11)":!0,"- Metals (IAB3-12)":!0}},"Careers (IAB4)":{left_box:!0,sub_categories:{"- Career Planning (IAB4-1)":!0,"- College (IAB4-2)":!0,"- Financial Aid (IAB4-3)":!0,"- Job Fairs (IAB4-4)":!0,"- Job Search (IAB4-5)":!0,"- Resume Writing/Advice (IAB4-6)":!0,"- Nursing (IAB4-7)":!0,"- Scholarships (IAB4-8)":!0,"- Telecommuting (IAB4-9)":!0,"- U.S. Military (IAB4-10)":!0,"- Career Advice (IAB4-11)":!0}},"Education (IAB5)":{left_box:!0,sub_categories:{"- 7-12 Education (IAB5-1)":!0,"- Adult Education (IAB5-2)":!0,"- Art History (IAB5-3)":!0,"- Colledge Administration (IAB5-4)":!0,"- College Life (IAB5-5)":!0,"- Distance Learning (IAB5-6)":!0,"- English as a 2nd Language (IAB5-7)":!0,"- Language Learning (IAB5-8)":!0,"- Graduate School (IAB5-9)":!0,"- Homeschooling (IAB5-10)":!0,"- Homework/Study Tips (IAB5-11)":!0,"- K-6 Educators (IAB5-12)":!0,"- Private School (IAB5-13)":!0,"- Special Education (IAB5-14)":!0,"- Studying Business (IAB5-15)":!0}},"Family & Parenting (IAB6)":{left_box:!0,sub_categories:{"- Adoption (IAB6-1)":!0,"- Babies & Toddlers (IAB6-2)":!0,"- Daycare/Pre School (IAB6-3)":!0,"- Family Internet (IAB6-4)":!0,"- Parenting - K-6 Kids (IAB6-5)":!0,"- Parenting teens (IAB6-6)":!0,"- Pregnancy (IAB6-7)":!0,"- Special Needs Kids (IAB6-8)":!0,"- Eldercare (IAB6-9)":!0}},"Health & Fitness (IAB7)":{left_box:!0,sub_categories:{"- Exercise (IAB7-1)":!0,"- A.D.D. (IAB7-2)":!0,"- AIDS/HIV (IAB7-3)":!0,"- Allergies (IAB7-4)":!0,"- Alternative Medicine (IAB7-5)":!0,"- Arthritis (IAB7-6)":!0,"- Asthma (IAB7-7)":!0,"- Autism/PDD (IAB7-8)":!0,"- Bipolar Disorder (IAB7-9)":!0,"- Brain Tumor (IAB7-10)":!0,"- Cancer (IAB7-11)":!0,"- Cholesterol (IAB7-12)":!0,"- Chronic Fatigue Syndrome (IAB7-13)":!0,"- Chronic Pain (IAB7-14)":!0,"- Cold & Flu (IAB7-15)":!0,"- Deafness (IAB7-16)":!0,"- Dental Care (IAB7-17)":!0,"- Depression (IAB7-18)":!0,"- Dermatology (IAB7-19)":!0,"- Diabetes (IAB7-20)":!0,"- Epilepsy (IAB7-21)":!0,"- GERD/Acid Reflux (IAB7-22)":!0,"- Headaches/Migraines (IAB7-23)":!0,"- Heart Disease (IAB7-24)":!0,"- Herbs for Health (IAB7-25)":!0,"- Holistic Healing (IAB7-26)":!0,"- IBS/Crohn's Disease (IAB7-27)":!0,"- Incontinence (IAB7-29)":!0,"- Infertility (IAB7-30)":!0,"- Men's Health (IAB7-31)":!0,"- Nutrition (IAB7-32)":!0,"- Orthopedics (IAB7-33)":!0,"- Panic/Anxiety Disorders (IAB7-34)":!0,"- Pediatrics (IAB7-35)":!0,"- Physical Therapy (IAB7-36)":!0,"- Psychology/Psychiatry (IAB7-37)":!0,"- Senor Health (IAB7-38)":!0,"- Sexuality (IAB7-39)":!0,"- Sleep Disorders (IAB7-40)":!0,"- Smoking Cessation (IAB7-41)":!0,"- Thyroid Disease (IAB7-43)":!0,"- Weight Loss (IAB7-44)":!0,"- Women's Health (IAB7-45)":!0}},"Food & Drink (IAB8)":{left_box:!0,sub_categories:{"- American Cuisine (IAB8-1)":!0,"- Barbecues & Grilling (IAB8-2)":!0,"- Cajun/Creole (IAB8-3)":!0,"- Chinese Cuisine (IAB8-4)":!0,"- Cocktails/Beer (IAB8-5)":!0,"- Coffee/Tea (IAB8-6)":!0,"- Cuisine-Specific (IAB8-7)":!0,"- Desserts & Baking (IAB8-8)":!0,"- Dining Out (IAB8-9)":!0,"- Food Allergies (IAB8-10)":!0,"- French Cuisine (IAB8-11)":!0,"- Health/Lowfat Cooking (IAB8-12)":!0,"- Italian Cuisine (IAB8-13)":!0,"- Japanese Cuisine (IAB8-14)":!0,"- Mexican Cuisine (IAB8-15)":!0,"- Vegan (IAB8-16)":!0,"- Vegetarian (IAB8-17)":!0,"- Wine (IAB8-18)":!0}},"Hobbies & Interests (IAB9)":{left_box:!0,sub_categories:{"- Art/Technology (IAB9-1)":!0,"- Arts & Crafts (IAB9-2)":!0,"- Beadwork (IAB9-3)":!0,"- Birdwatching (IAB9-4)":!0,"- Board Games/Puzzles (IAB9-5)":!0,"- Candle & Soap Making (IAB9-6)":!0,"- Card Games (IAB9-7)":!0,"- Chess (IAB9-8)":!0,"- Collecting (IAB9-10)":!0,"- Comic Books (IAB9-11)":!0,"- Drawing/Sketching (IAB9-12)":!0,"- Freelance Writing (IAB9-13)":!0,"- Genealogy (IAB9-14)":!0,"- Getting Published (IAB9-15)":!0,"- Guitar (IAB9-16)":!0,"- Home Recording (IAB9-17)":!0,"- Investors & Patents (IAB9-18)":!0,"- Jewelry Making (IAB9-19)":!0,"- Magic & Illusion (IAB9-20)":!0,"- Needlework (IAB9-21)":!0,"- Painting (IAB9-22)":!0,"- Photography (IAB9-23)":!0,"- Radio (IAB9-24)":!0,"- Roleplaying Games (IAB9-25)":!0,"- Sci-Fi & Fantasy (IAB9-26)":!0,"- Scrapbooking (IAB9-27)":!0,"- Screenwriting (IAB9-28)":!0,"- Stamps & Coins (IAB9-29)":!0,"- Video & Computer Games (IAB9-30)":!0,"- Woodworking (IAB9-31)":!0}},"Home & Garden (IAB10)":{left_box:!0,sub_categories:{"- Appliances (IAB10-1)":!0,"- Entertaining (IAB10-2)":!0,"- Environmental Safety (IAB10-3)":!0,"- Gardening (IAB10-4)":!0,"- Home Repair (IAB10-5)":!0,"- Home Theater (IAB10-6)":!0,"- Interior Decorating (IAB10-7)":!0,"- Landscaping (IAB10-8)":!0,"- Remodeling & Construction (IAB10-9)":!0}},"Law Gov't & Politics (IAB11)":{left_box:!0,sub_categories:{"- Immigration (IAB11-1)":!0,"- Legal Issues (IAB11-2)":!0,"- U.S. Government Resources (IAB11-3)":!0,"- Politics (IAB11-4)":!0,"- Commentary (IAB11-5)":!0}},"News (IAB12)":{left_box:!0,sub_categories:{"- International News (IAB12-1)":!0,"- National News (IAB12-2)":!0,"- Local News (IAB12-3)":!0}},"Personal Finance (IAB13)":{left_box:!0,sub_categories:{"- Beginning Investing (IAB13-1)":!0,"- Credit/Debt & Loans (IAB13-2)":!0,"- Financial News (IAB13-3)":!0,"- Financial Planning (IAB13-4)":!0,"- Hedge Fund (IAB13-5)":!0,"- Insurance (IAB13-6)":!0,"- Investing (IAB13-7)":!0,"- Mutual Funds (IAB13-8)":!0,"- Options (IAB13-9)":!0,"- Retirement Planning (IAB13-10)":!0,"- Stocks (IAB13-11)":!0,"- Tax Planning (IAB13-12)":!0}},"Society (IAB14)":{left_box:!0,sub_categories:{"- Dating (IAB14-1)":!0,"- Divorce Support (IAB14-2)":!0,"- Gay Life (IAB14-3)":!0,"- Marriage (IAB14-4)":!0,"- Senior Living (IAB14-5)":!0,"- Teens (IAB14-6)":!0,"- Weddings (IAB14-7)":!0,"- Ethnic Specific (IAB14-8)":!0}},"Science (IAB15)":{left_box:!0,sub_categories:{"- Astrology (IAB15-1)":!0,"- Biology (IAB15-2)":!0,"- Chemistry (IAB15-3)":!0,"- Geology (IAB15-4)":!0,"- Paranormal Phenomena (IAB15-5)":!0,"- Physics (IAB15-6)":!0,"- Space/Astronomy (IAB15-7)":!0,"- Geography (IAB15-8)":!0,"- Botany (IAB15-9)":!0,"- Weather (IAB15-10)":!0}},"Pets (IAB16)":{left_box:!0,sub_categories:{"- Aquariums (IAB16-1)":!0,"- Birds (IAB16-2)":!0,"- Cats (IAB16-3)":!0,"- Dogs (IAB16-4)":!0,"- Large Animals (IAB16-5)":!0,"- Reptiles (IAB16-6)":!0,"- Veterinary Medicine (IAB16-7)":!0}},"Sports (IAB17)":{left_box:!0,sub_categories:{"- Auto Racing (IAB17-1)":!0,"- Baseball (IAB17-2)":!0,"- Bicycling (IAB17-3)":!0,"- Bodybuilding (IAB17-4)":!0,"- Boxing (IAB17-5)":!0,"- Canoeing/Kayaking (IAB17-6)":!0,"- Cheerleading (IAB17-7)":!0,"- Climbing (IAB17-8)":!0,"- Cricket (IAB17-9)":!0,"- Figure Skating (IAB17-10)":!0,"- Fly Fishing (IAB17-11)":!0,"- Football (IAB17-12)":!0,"- Freshwater Fishing (IAB17-13)":!0,"- Game & Fish (IAB17-14)":!0,"- Golf (IAB17-15)":!0,"- Horse Racing (IAB17-16)":!0,"- Horses (IAB17-17)":!0,"- Inline Skating (IAB17-19)":!0,"- Martial Arts (IAB17-20)":!0,"- Mountain Biking (IAB17-21)":!0,"- NASCAR Racing (IAB17-22)":!0,"- Olympics (IAB17-23)":!0,"- Paintball (IAB17-24)":!0,"- Power & Motorcycles (IAB17-25)":!0,"- Pro Basketball (IAB17-26)":!0,"- Pro Ice Hockey (IAB17-27)":!0,"- Rodeo (IAB17-28)":!0,"- Rugby (IAB17-29)":!0,"- Running/Jogging (IAB17-30)":!0,"- Sailing (IAB17-31)":!0,"- Saltwater Fishing (IAB17-32)":!0,"- Scuba Diving (IAB17-33)":!0,"- Skateboarding (IAB17-34)":!0,"- Skiing (IAB17-35)":!0,"- Snowboarding (IAB17-36)":!0,"- Surfing/Bodyboarding (IAB17-37)":!0,"- Swimming (IAB17-38)":!0,"- Table Tennis/Ping-Pong (IAB17-39)":!0,"- Tennis (IAB17-40)":!0,"- Volleyball (IAB17-41)":!0,"- Walking (IAB17-42)":!0,"- Waterski/Wakeboard (IAB17-43)":!0,"- World Soccer (IAB17-44)":!0}},"Style & Fashion (IAB18)":{left_box:!0,sub_categories:{"- Beauty (IAB18-1)":!0,"- Body Art (IAB18-2)":!0,"- Fashion (IAB18-3)":!0,"- Jewelry (IAB18-4)":!0,"- Clothing (IAB18-5)":!0,"- Accessories (IAB18-6)":!0}},"Technology & Computing (IAB19)":{left_box:!0,sub_categories:{"- 3-D Graphics (IAB19-1)":!0,"- Animation (IAB19-2)":!0,"- Antivirus Software (IAB19-3)":!0,"- C/C++ (IAB19-4)":!0,"- Cameras & Camcorders (IAB19-5)":!0,"- Cell Phones (IAB19-6)":!0,"- Computer Certification (IAB19-7)":!0,"- Computer Networking (IAB19-8)":!0,"- Computer Peripherals (IAB19-9)":!0,"- Computer Reviews (IAB19-10)":!0,"- Data Centers (IAB19-11)":!0,"- Databases (IAB19-12)":!0,"- Desktop Publishing (IAB19-13)":!0,"- Desktop Video (IAB19-14)":!0,"- Email (IAB19-15)":!0,"- Graphics Software (IAB19-16)":!0,"- Home Video/DVD (IAB19-17)":!0,"- Internet Technology (IAB19-18)":!0,"- Java (IAB19-19)":!0,"- JavaScript (IAB19-20)":!0,"- Mac Support (IAB19-21)":!0,"- MP3/MIDI (IAB19-22)":!0,"- Net Conferencing (IAB19-23)":!0,"- Net for Beginners (IAB19-24)":!0,"- Network Security (IAB19-25)":!0,"- Palmtops/PDAs (IAB19-26)":!0,"- PC Support (IAB19-27)":!0,"- Portable (IAB19-28)":!0,"- Entertainment (IAB19-29)":!0,"- Shareware/Freeware (IAB19-30)":!0,"- Unix (IAB19-31)":!0,"- Visual Basic (IAB19-32)":!0,"- Web Clip Art (IAB19-33)":!0,"- Web Design/HTML (IAB19-34)":!0,"- Web Search (IAB19-35)":!0,"- Windows (IAB19-36)":!0}},"Travel (IAB20)":{left_box:!0,sub_categories:{"- Adventure Travel (IAB20-1)":!0,"- Africa (IAB20-2)":!0,"- Air Travel (IAB20-3)":!0,"- Australia & New Zealand (IAB20-4)":!0,"- Bed & Breakfasts (IAB20-5)":!0,"- Budget Travel (IAB20-6)":!0,"- Business Travel (IAB20-7)":!0,"- By US Locale (IAB20-8)":!0,"- Camping (IAB20-9)":!0,"- Canada (IAB20-10)":!0,"- Caribbean (IAB20-11)":!0,"- Cruises (IAB20-12)":!0,"- Eastern Europe (IAB20-13)":!0,"- Europe (IAB20-14)":!0,"- France (IAB20-15)":!0,"- Greece (IAB20-16)":!0,"- Honeymoons/Getaways (IAB20-17)":!0,"- Hotels (IAB20-18)":!0,"- Italy (IAB20-19)":!0,"- Japan (IAB20-20)":!0,"- Mexico & Central America (IAB20-21)":!0,"- National Parks (IAB20-22)":!0,"- South America (IAB20-23)":!0,"- Spas (IAB20-24)":!0,"- Theme Parks (IAB20-25)":!0,"- Traveling with Kids (IAB20-26)":!0,"- United Kingdom (IAB20-27)":!0}},"Real Estate (IAB21)":{left_box:!0,sub_categories:{"- Apartments (IAB21-1)":!0,"- Architects (IAB21-2)":!0,"- Buying/Selling Homes (IAB21-3)":!0}},"Shopping (IAB22)":{left_box:!0,sub_categories:{"- Contests & Freebies (IAB22-1)":!0,"- Couponing (IAB22-2)":!0,"- Comparison (IAB22-3)":!0,"- Engines (IAB22-4)":!0}}};function ErrorCheckConnection(){if(!ACCESS_TOKEN)throw alert("ERROR: Connect to an account using the client id and client secret."),new Error("ERROR: Connect to an account using the client id and client secret.");if(!SPX_DATA.applications||!SPX_DATA.adspaces||!SPX_DATA.lineitems)throw alert("ERROR: There are no applications, adspaces, and/or line items for this account. If there are, reconnect to the account and try again."),new Error("ERROR: There are no applications, adspaces, and/or line items for this account. If there are, reconnecting to the account and try again.")}function ErrorCheckMissingClientInput(){if(!CLIENT_ID_LABEL.value||!CLIENT_SECRET_LABEL.value)throw alert("ERROR: Input Client Id and Client Secret"),new Error("ERROR: Missing client id and client secret.")}function ErrorCheckMissingApplicationInput(){if(!APPLICATION_NAME.value||!APPLICATION_OS.value)throw alert("ERROR: Missing application inputs"),new Error("ERROR: Missing Application Name or OS type")}function ErrorCheckMissingApplicationId(){if(!APPLICATION_ID.innerHTML)throw alert("ERROR: No Application found"),new Error("ERROR: No Application found")}var START_POSITION_LINE_ITEMS=0;function getAuthToken(e,t,n){requestSoma({headers:[["Content-type","application/x-www-form-urlencoded"]],url:"https://auth.smaato.com/v2/auth/token/",params:"client_id="+e+"&client_secret="+t+"&grant_type=client_credentials",requestType:"POST"},function(){4==this.readyState&&200==this.status&&(ACCESS_TOKEN=JSON.parse(this.responseText).access_token,n(getAllAdspaces))})}function getAllApplications(e){requestSoma({headers:[["Authorization","Bearer "+ACCESS_TOKEN]],url:"https://spx.smaato.com/publisherportal/api/inventory/v1/applications",params:null,requestType:"GET"},function(){4==this.readyState&&200==this.status&&(SPX_DATA.applications=JSON.parse(this.responseText),console.log(SPX_DATA.applications),e(getAllLineItems))})}function getAllAdspaces(e){requestSoma({headers:[["Authorization","Bearer "+ACCESS_TOKEN]],url:"https://spx.smaato.com/publisherportal/api/inventory/v1/adspaces",params:null,requestType:"GET"},function(){4==this.readyState&&200==this.status&&(SPX_DATA.adspaces=JSON.parse(this.responseText),console.log(SPX_DATA.adspaces),e())})}function getAllLineItems(e){requestSoma({headers:[["Authorization","Bearer "+ACCESS_TOKEN]],url:"https://spx.smaato.com/publisherportal/api/smx/v1/line-items?max-result=1000&start-position="+START_POSITION_LINE_ITEMS.toString(),params:null,requestType:"GET"},function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText);if(SPX_DATA.lineitems=SPX_DATA.lineitems.concat(e),console.log(SPX_DATA.lineitems),1e3===e.length)return START_POSITION_LINE_ITEMS+=1e3,void getAllLineItems();clearLoadSuccessContainer("loader_success_container_1"),addElement("loader_success_container_1","success_note","Success"),extractApplicationName()}})}function putLineItem(e,t){requestSoma({headers:[["Authorization","Bearer "+ACCESS_TOKEN],["Content-Type","application/json;charset=UTF-8"]],url:"https://spx.smaato.com/publisherportal/api/smx/v1/line-items/"+e.id.toString(),params:JSON.stringify(e),requestType:"PUT"},function(){4===this.readyState&&200===this.status&&t()})}function requestSoma(e,t){HTTP=new XMLHttpRequest,HTTP.open(e.requestType,e.url,!0);for(var n=0;n<e.headers.length;n++)HTTP.setRequestHeader(e.headers[n][0],e.headers[n][1]);HTTP.onerror=function(){alert("ERROR: An error occurred during the transaction **"),console.log("** An error occurred during the transaction")},HTTP.onreadystatechange=t,HTTP.send(e.params)}var CLIENT_ID_LABEL=document.getElementById("client_id"),CLIENT_SECRET_LABEL=document.getElementById("client_secret"),CONNECT_BUTTON=document.getElementById("connect_button").addEventListener("click",submitConnectAccount);function addElement(e,t,n){var o=document.getElementById(e),i=document.createElement("div");i.innerHTML=n,i.classList.add(t),o.appendChild(i)}function clearLoadSuccessContainer(e){var t=document.getElementById(e);if(t.children.length)for(var n=t.children.length;n;)removeElement(t.children[0]),n--}function handleLoader(e,t,n){clearLoadSuccessContainer("loader_success_container_"+e.toString()),addElement("loader_success_container_"+e.toString(),t,n)}function removeElement(e){e.parentNode.removeChild(e)}function resetSpxData(){SPX_DATA.applcations=[],SPX_DATA.adspaces=[],SPX_DATA.lineitems=[]}function submitConnectAccount(e){e.stopPropagation(),ErrorCheckMissingClientInput(),handleLoader(1,"loader",""),resetSpxData(),getAuthToken(CLIENT_ID_LABEL.value,CLIENT_SECRET_LABEL.value,getAllApplications)}CLIENT_ID_LABEL.focus(),CLIENT_ID_LABEL.addEventListener("click",function(e){e.stopPropagation()}),CLIENT_SECRET_LABEL.addEventListener("click",function(e){e.stopPropagation()});var BODY=document.getElementById("body");BODY.addEventListener("click",function(e){closeDropDownContent()});var APPLICATION_NAME=document.getElementById("application_name"),APPLICATION_OS=document.getElementById("application_os"),FIND_BUTTON=document.getElementById("application_find_button").addEventListener("click",findApplicationId),APPLICATION_ID=document.getElementById("application_id"),DROPDOWN=document.querySelector(".dropdown"),DROPDOWN_CONTENT=document.querySelector(".dropdown-content");function extractApplicationName(){for(var e=0;e<SPX_DATA.applications.length;e++)AUTOCOMPLETE_SETTING.names.push(SPX_DATA.applications[e].name)}function listAutoCompleteNames(){for(var e=APPLICATION_NAME.value,t=[],n=0;n<AUTOCOMPLETE_SETTING.names.length;n++)0!=e.length&&AUTOCOMPLETE_SETTING.names[n].substring(0,e.length).toUpperCase()===e.toUpperCase()&&t.push(AUTOCOMPLETE_SETTING.names[n]);removeAutoCompleteElements(),0!==t.length?(toggleAutoCompleteItemOnDisplay(!0),createAutoCompleteElements(t)):closeDropDownContent()}function moveThroughAutoCompleteNames(e){switch(e.keyCode){case 38:if(AUTOCOMPLETE_SETTING.index<=0)return;AUTOCOMPLETE_SETTING.index-=1,moveCursor(AUTOCOMPLETE_SETTING.index),DROPDOWN_CONTENT.scrollTop-=34;break;case 40:if(AUTOCOMPLETE_SETTING.index===DROPDOWN_CONTENT.children.length-1)return;AUTOCOMPLETE_SETTING.index+=1,moveCursor(AUTOCOMPLETE_SETTING.index),DROPDOWN_CONTENT.scrollTop+=34;break;case 8:AUTOCOMPLETE_SETTING.index=-1,DROPDOWN_CONTENT.scrollTop=0;break;case 27:closeDropDownContent();break;case 13:if(AUTOCOMPLETE_SETTING.index<0)return;APPLICATION_NAME.value=DROPDOWN_CONTENT.children[AUTOCOMPLETE_SETTING.index].innerHTML,listAutoCompleteNames(),1===DROPDOWN_CONTENT.children.length?closeDropDownContent():(DROPDOWN_CONTENT.scrollTop=0,AUTOCOMPLETE_SETTING.index=-1)}}function moveCursor(e){for(var t=0;t<DROPDOWN_CONTENT.children.length;t++)DROPDOWN_CONTENT.children[t].classList.remove("dropdown_selected");DROPDOWN_CONTENT.children[e].classList.add("dropdown_selected")}function createAutoCompleteElements(e){for(var t=0;t<e.length;t++){var n=document.createElement("p");n.classList.add("dropdown-content-li"),n.innerHTML=e[t],n.addEventListener("click",function(e){e.stopPropagation(),APPLICATION_NAME.value=this.innerHTML,closeDropDownContent()}),DROPDOWN_CONTENT.appendChild(n)}}function removeAutoCompleteElements(){for(;DROPDOWN_CONTENT.firstChild;)DROPDOWN_CONTENT.removeChild(DROPDOWN_CONTENT.firstChild)}function toggleAutoCompleteItemOnDisplay(e){e?DROPDOWN_CONTENT.classList.contains("dropdown_display")||DROPDOWN_CONTENT.classList.add("dropdown_display"):DROPDOWN_CONTENT.classList.contains("dropdown_display")&&DROPDOWN_CONTENT.classList.remove("dropdown_display")}function closeDropDownContent(){AUTOCOMPLETE_SETTING.index=-1,DROPDOWN_CONTENT.scrollTop=0,toggleAutoCompleteItemOnDisplay(!1)}function findApplicationId(e){ErrorCheckConnection(),ErrorCheckMissingApplicationInput(),APPLICATION_ID.innerHTML="";for(var t=APPLICATION_NAME.value.toUpperCase(),n=APPLICATION_OS.value.toUpperCase(),o=0;o<SPX_DATA.applications.length;o++)if(t===SPX_DATA.applications[o].name.toUpperCase()&&n===SPX_DATA.applications[o].type.toUpperCase())return void(APPLICATION_ID.innerHTML=SPX_DATA.applications[o].id);ErrorCheckMissingApplicationId()}APPLICATION_NAME.addEventListener("input",listAutoCompleteNames),APPLICATION_NAME.addEventListener("keyup",moveThroughAutoCompleteNames),APPLICATION_NAME.addEventListener("click",function(e){e.stopPropagation()}),APPLICATION_OS.addEventListener("click",function(e){e.stopPropagation()});var CATEGORY_BOX_LEFT=document.getElementById("category_box_left"),CATEGORY_BOX_RIGHT=document.getElementById("category_box_right"),ADD_CATEGORY_BUTTON=document.getElementById("add_category_button").addEventListener("click",function(e){e.stopPropagation(),categoryArrowButtonPressed("add")}),SUBTRACT_CATEGORY_BUTTON=document.getElementById("subtract_category_button").addEventListener("click",function(e){e.stopPropagation(),categoryArrowButtonPressed("subtract")}),RESET_CATEGORY_BUTTON=document.getElementById("reset_category_button").addEventListener("click",resetCategoryBoxes);CATEGORY_BOX_LEFT.addEventListener("click",function(e){e.stopPropagation()}),CATEGORY_BOX_RIGHT.addEventListener("click",function(e){e.stopPropagation()});var DOMAIN_BOX=document.getElementById("domain_box");function categoryArrowButtonPressed(e){changeCategoryState("add"===e?CATEGORY_BOX_LEFT.options[CATEGORY_BOX_LEFT.selectedIndex].text:CATEGORY_BOX_RIGHT.options[CATEGORY_BOX_RIGHT.selectedIndex].text),renderCategoryBoxes()}function changeCategoryState(e){var t;if(-1!==PARENT_CATEGORIES.indexOf(e)){CATEGORY_STATE[e].left_box=!CATEGORY_STATE[e].left_box,t=CATEGORY_STATE[e].sub_categories;for(sub_cat in t)t[sub_cat]=CATEGORY_STATE[e].left_box}else for(var n=0;n<PARENT_CATEGORIES.length;n++)if((t=CATEGORY_STATE[PARENT_CATEGORIES[n]].sub_categories).hasOwnProperty(e)){t[e]=!t[e];break}}function createOptionElement(e,t){var n=document.createElement("option");return n.text=e,t&&(n.style="color:#ff8c00; font-weight: bold;"),n}function destroyCategorySelectItems(){destroyCategorySelectItem(CATEGORY_BOX_LEFT),destroyCategorySelectItem(CATEGORY_BOX_RIGHT)}function destroyCategorySelectItem(e){var t=e.options.length-1;for(i=t;i>=0;i--)e.options[i]=null}function renderCategoryBoxes(){var e;destroyCategorySelectItems();for(var t=0;t<PARENT_CATEGORIES.length;t++){e=createOptionElement(PARENT_CATEGORIES[t],!0),!0===CATEGORY_STATE[PARENT_CATEGORIES[t]].left_box?CATEGORY_BOX_LEFT.add(e):CATEGORY_BOX_RIGHT.add(e);var n=CATEGORY_STATE[PARENT_CATEGORIES[t]].sub_categories;for(var o in n)e=createOptionElement(o,!1),!0===n[o]?CATEGORY_BOX_LEFT.add(e):CATEGORY_BOX_RIGHT.add(e)}}function resetCategoryBoxes(e){e.stopPropagation(),destroyCategorySelectItems(),resetCategoryState(),renderCategoryBoxes()}function resetCategoryState(){for(var e=0;e<PARENT_CATEGORIES.length;e++){CATEGORY_STATE[PARENT_CATEGORIES[e]].left_box=!0;var t=CATEGORY_STATE[PARENT_CATEGORIES[e]].sub_categories;for(var n in t)t[n]=!0}}DOMAIN_BOX.addEventListener("click",function(e){e.stopPropagation()});var FINAL_CALL_BACK_COUNT,SUBMIT_BUTTON=document.getElementById("submit_button").addEventListener("click",submit),CLEAR_ALL=document.getElementById("clear_all_button").addEventListener("click",clearAll);function clearAll(e){e.stopPropagation(),FINAL_CALL_BACK_COUNT=0,ErrorCheckConnection(),ErrorCheckMissingApplicationId(),handleLoader(3,"loader","");var t=selectLineItemsWithAdspace(parseDataForAdspace());t.forEach(function(e){e.smxSettings.categories=null,e.smxSettings.domains=null,performTask=function(){finalCallBack(++FINAL_CALL_BACK_COUNT,t.size,3),console.log("Successfully cleared all blocking for "+e.name)},putLineItem(e,performTask)})}function finalCallBack(e,t,n){e===t&&handleLoader(n,"success_note","Success")}function insertBlocks(e,t,n){for(var o=0;o<n.length;o++){var i=n[o];0!==e.length&&null===i.smxSettings.categories&&(i.smxSettings.categories=[]),0!==t.length&&null===i.smxSettings.domains&&(i.smxSettings.domains=[]);for(o=0;o<e.length;o++)i.smxSettings.categories.push(e[o]);for(var a=0;a<t.length;a++)i.smxSettings.domains.push(t[a])}}function parseDataForAdspace(){for(var e,t=parseInt(APPLICATION_ID.innerHTML),n=[],o=0;o<SPX_DATA.adspaces.length;o++)(e=SPX_DATA.adspaces[o]).applicationId===t&&n.push(e.id);return n}function parseIABCode(e){for(var t="",n=e.indexOf("(")+1;n<e.length-1;n++)t+=e[n];return t}function selectLineItemsWithAdspace(e){for(var t=new Set,n=0;n<SPX_DATA.lineitems.length;n++){var o=SPX_DATA.lineitems[n];if(null!==o.targeting.inventoryTargeting&&null!==o.targeting.inventoryTargeting.adspaces)for(var i=0;i<o.targeting.inventoryTargeting.adspaces.length;i++)-1!==e.indexOf(o.targeting.inventoryTargeting.adspaces[i])&&t.add(o)}return t}function setDomainValues(){for(var e=[],t=DOMAIN_BOX.value.split("\n"),n=0;n<t.length;n++)t[n]&&e.push(t[n].trim());return e}function setCategoryValues(){for(var e,t=[],n=0;n<PARENT_CATEGORIES.length;n++)if((e=CATEGORY_STATE[PARENT_CATEGORIES[n]]).left_box)for(sub_cat in e.sub_categories)e.sub_categories[sub_cat]||t.push(parseIABCode(sub_cat));else t.push(parseIABCode(PARENT_CATEGORIES[n]));return t}function submit(e){e.stopPropagation(),FINAL_CALL_BACK_COUNT=0,ErrorCheckConnection(),ErrorCheckMissingApplicationId(),handleLoader(2,"loader","");var t=setCategoryValues(),n=setDomainValues(),o=selectLineItemsWithAdspace(parseDataForAdspace());insertBlocks(t,n,o),o.forEach(function(e){performTask=function(){finalCallBack(++FINAL_CALL_BACK_COUNT,o.size,2),console.log("Success added in blocking for "+e.name)},putLineItem(e,performTask)})}function main(){renderCategoryBoxes()}main();
  </script>

</html>
